# ====================
# NODE CONFIG
# ====================
NODE_ENV=production
HOST=0.0.0.0
PORT=1337

# ====================
# STRAPI SECRETS
# Generate bằng: openssl rand -base64 32
# Cần 4 keys cho APP_KEYS (ngăn cách bởi dấu phẩy)
# ====================
APP_KEYS=key1_change_this,key2_change_this,key3_change_this,key4_change_this
API_TOKEN_SALT=CHANGE_THIS_TO_RANDOM_STRING
ADMIN_JWT_SECRET=CHANGE_THIS_TO_RANDOM_STRING
TRANSFER_TOKEN_SALT=CHANGE_THIS_TO_RANDOM_STRING
JWT_SECRET=CHANGE_THIS_TO_RANDOM_STRING
ENCRYPTION_KEY=CHANGE_THIS_TO_RANDOM_STRING

# ====================
# BACKEND SYNC CONFIGURATION
# ====================
# Backend API URL để sync dữ liệu (categories, coupons từ Backend -> CMS)
# Chỉ sử dụng public API endpoints (/category/active, /coupon/active) - không cần API key
# Docker network: http://backend:3000 (dùng tên service, không cần HTTPS nội bộ)
# External: https://api.yourdomain.com
BACKEND_API_URL=http://backend:3000

# Tự động sync khi CMS start (true/false)
SYNC_ON_START=false
# Note: Cron job sẽ tự động sync mỗi 2 giờ khi NODE_ENV=production

# ====================
# DATABASE - PostgreSQL trong Docker
# ====================
DATABASE_CLIENT=postgres
DATABASE_HOST=cms-postgres
DATABASE_PORT=5432
DATABASE_NAME=strapi
DATABASE_USERNAME=strapi
DATABASE_PASSWORD=CHANGE_THIS_PASSWORD
DATABASE_SSL=false

# Connection Pool
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10

# ====================
# ADMIN PANEL
# ====================
# URL của CMS (cho production)
ADMIN_URL=/admin
PUBLIC_URL=https://cms.yourdomain.com

# ====================
# CORS - Cho phép Frontend truy cập
# ====================
# Strapi tự động config CORS, nhưng có thể override nếu cần
# CORS_ORIGIN=https://yourdomain.com,https://www.yourdomain.com
